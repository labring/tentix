{
  "id": "86ee7b03-3950-4828-a2b4-5740ee75fff0",
  "prevId": "04c54c59-f437-4eb0-9eeb-84323acdd28b",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "tentix.ai_role_config": {
      "name": "ai_role_config",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ai_user_id": {
          "name": "ai_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'default_all'"
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_role_configs_active": {
          "name": "idx_ai_role_configs_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_role_configs_workflow": {
          "name": "idx_ai_role_configs_workflow",
          "columns": [
            {
              "expression": "workflow_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_role_config_ai_user_id_users_id_fk": {
          "name": "ai_role_config_ai_user_id_users_id_fk",
          "tableFrom": "ai_role_config",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ai_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_role_config_workflow_id_workflow_id_fk": {
          "name": "ai_role_config_workflow_id_workflow_id_fk",
          "tableFrom": "ai_role_config",
          "tableTo": "workflow",
          "schemaTo": "tentix",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_role_configs_unique_user": {
          "name": "ai_role_configs_unique_user",
          "nullsNotDistinct": false,
          "columns": [
            "ai_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.chat_messages": {
      "name": "chat_messages",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "withdrawn": {
          "name": "withdrawn",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "idx_chat_messages_ticket_created": {
          "name": "idx_chat_messages_ticket_created",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_messages_ticket_id_tickets_id_fk": {
          "name": "chat_messages_ticket_id_tickets_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "chat_messages_sender_id_users_id_fk": {
          "name": "chat_messages_sender_id_users_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "sender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.favorited_conversations_knowledge": {
      "name": "favorited_conversations_knowledge",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "message_ids": {
          "name": "message_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "favorited_by": {
          "name": "favorited_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sync_status": {
          "name": "sync_status",
          "type": "sync_status",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "synced_at": {
          "name": "synced_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_favorited_conversation_knowledge_ticket": {
          "name": "idx_favorited_conversation_knowledge_ticket",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_favorited_conversation_knowledge_user": {
          "name": "idx_favorited_conversation_knowledge_user",
          "columns": [
            {
              "expression": "favorited_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_favorited_conversation_knowledge_sync_status": {
          "name": "idx_favorited_conversation_knowledge_sync_status",
          "columns": [
            {
              "expression": "sync_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_favorited_conversation_knowledge_created_at": {
          "name": "idx_favorited_conversation_knowledge_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "favorited_conversations_knowledge_ticket_id_tickets_id_fk": {
          "name": "favorited_conversations_knowledge_ticket_id_tickets_id_fk",
          "tableFrom": "favorited_conversations_knowledge",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "favorited_conversations_knowledge_favorited_by_users_id_fk": {
          "name": "favorited_conversations_knowledge_favorited_by_users_id_fk",
          "tableFrom": "favorited_conversations_knowledge",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "favorited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "favorited_conversation_knowledge_unique": {
          "name": "favorited_conversation_knowledge_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.handoff_records": {
      "name": "handoff_records",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "handoff_reason": {
          "name": "handoff_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "handoff_priority",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true,
          "default": "'P2'"
        },
        "sentiment": {
          "name": "sentiment",
          "type": "sentiment_label",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true,
          "default": "'NEUTRAL'"
        },
        "user_query": {
          "name": "user_query",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "customer_id": {
          "name": "customer_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_agent_id": {
          "name": "assigned_agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notification_sent": {
          "name": "notification_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notification_error": {
          "name": "notification_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_handoff_priority": {
          "name": "idx_handoff_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_handoff_created": {
          "name": "idx_handoff_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_handoff_agent": {
          "name": "idx_handoff_agent",
          "columns": [
            {
              "expression": "assigned_agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "handoff_records_ticket_id_tickets_id_fk": {
          "name": "handoff_records_ticket_id_tickets_id_fk",
          "tableFrom": "handoff_records",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "handoff_records_customer_id_users_id_fk": {
          "name": "handoff_records_customer_id_users_id_fk",
          "tableFrom": "handoff_records",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "handoff_records_assigned_agent_id_users_id_fk": {
          "name": "handoff_records_assigned_agent_id_users_id_fk",
          "tableFrom": "handoff_records",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "assigned_agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "handoff_records_unique": {
          "name": "handoff_records_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.history_conversation_knowledge": {
      "name": "history_conversation_knowledge",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "message_ids": {
          "name": "message_ids",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        },
        "processing_status": {
          "name": "processing_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "sync_status": {
          "name": "sync_status",
          "type": "sync_status",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "synced_at": {
          "name": "synced_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_history_conversation_knowledge_ticket": {
          "name": "idx_history_conversation_knowledge_ticket",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_history_conversation_knowledge_processing_status": {
          "name": "idx_history_conversation_knowledge_processing_status",
          "columns": [
            {
              "expression": "processing_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_history_conversation_knowledge_created_at": {
          "name": "idx_history_conversation_knowledge_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "history_conversation_knowledge_ticket_id_tickets_id_fk": {
          "name": "history_conversation_knowledge_ticket_id_tickets_id_fk",
          "tableFrom": "history_conversation_knowledge",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "history_conversation_knowledge_unique": {
          "name": "history_conversation_knowledge_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.knowledge_base": {
      "name": "knowledge_base",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_id": {
          "name": "chunk_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(3072)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "access_count": {
          "name": "access_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lang": {
          "name": "lang",
          "type": "varchar(12)",
          "primaryKey": false,
          "notNull": false,
          "default": "'auto'"
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp (3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp (3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_kb_unique_source_chunk": {
          "name": "idx_kb_unique_source_chunk",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "chunk_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kb_content_hash": {
          "name": "idx_kb_content_hash",
          "columns": [
            {
              "expression": "content_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kb_metadata": {
          "name": "idx_kb_metadata",
          "columns": [
            {
              "expression": "metadata",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.knowledge_usage_stats": {
      "name": "knowledge_usage_stats",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "knowledge_id": {
          "name": "knowledge_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "was_helpful": {
          "name": "was_helpful",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "feedback_comment": {
          "name": "feedback_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "retrieval_score": {
          "name": "retrieval_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_usage_knowledge": {
          "name": "idx_usage_knowledge",
          "columns": [
            {
              "expression": "knowledge_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_usage_ticket": {
          "name": "idx_usage_ticket",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_usage_used_at": {
          "name": "idx_usage_used_at",
          "columns": [
            {
              "expression": "used_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_usage_stats_knowledge_id_knowledge_base_id_fk": {
          "name": "knowledge_usage_stats_knowledge_id_knowledge_base_id_fk",
          "tableFrom": "knowledge_usage_stats",
          "tableTo": "knowledge_base",
          "schemaTo": "tentix",
          "columnsFrom": [
            "knowledge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_usage_stats_ticket_id_tickets_id_fk": {
          "name": "knowledge_usage_stats_ticket_id_tickets_id_fk",
          "tableFrom": "knowledge_usage_stats",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "knowledge_usage_stats_user_id_users_id_fk": {
          "name": "knowledge_usage_stats_user_id_users_id_fk",
          "tableFrom": "knowledge_usage_stats",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.message_feedback": {
      "name": "message_feedback",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "feedback_type",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true
        },
        "dislike_reasons": {
          "name": "dislike_reasons",
          "type": "dislike_reason[]",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "feedback_comment": {
          "name": "feedback_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "has_complaint": {
          "name": "has_complaint",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_message_feedback_ticket": {
          "name": "idx_message_feedback_ticket",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_feedback_user": {
          "name": "idx_message_feedback_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_feedback_message": {
          "name": "idx_message_feedback_message",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_feedback_message_id_chat_messages_id_fk": {
          "name": "message_feedback_message_id_chat_messages_id_fk",
          "tableFrom": "message_feedback",
          "tableTo": "chat_messages",
          "schemaTo": "tentix",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_feedback_user_id_users_id_fk": {
          "name": "message_feedback_user_id_users_id_fk",
          "tableFrom": "message_feedback",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_feedback_ticket_id_tickets_id_fk": {
          "name": "message_feedback_ticket_id_tickets_id_fk",
          "tableFrom": "message_feedback",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "message_feedback_unique": {
          "name": "message_feedback_unique",
          "nullsNotDistinct": false,
          "columns": [
            "message_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.message_read_status": {
      "name": "message_read_status",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_message_read_status_message_id": {
          "name": "idx_message_read_status_message_id",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_read_status_user_id": {
          "name": "idx_message_read_status_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_read_status_message_id_chat_messages_id_fk": {
          "name": "message_read_status_message_id_chat_messages_id_fk",
          "tableFrom": "message_read_status",
          "tableTo": "chat_messages",
          "schemaTo": "tentix",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_read_status_user_id_users_id_fk": {
          "name": "message_read_status_user_id_users_id_fk",
          "tableFrom": "message_read_status",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "message_read_status_unique": {
          "name": "message_read_status_unique",
          "nullsNotDistinct": false,
          "columns": [
            "message_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.requirements": {
      "name": "requirements",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(254)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "module": {
          "name": "module",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "priority": {
          "name": "priority",
          "type": "ticket_priority",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true
        },
        "related_ticket": {
          "name": "related_ticket",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": false
        },
        "create_at": {
          "name": "create_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "update_at": {
          "name": "update_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "requirements_related_ticket_tickets_id_fk": {
          "name": "requirements_related_ticket_tickets_id_fk",
          "tableFrom": "requirements",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "related_ticket"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.staff_feedback": {
      "name": "staff_feedback",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "evaluator_id": {
          "name": "evaluator_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "evaluated_id": {
          "name": "evaluated_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "feedback_type",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true
        },
        "dislike_reasons": {
          "name": "dislike_reasons",
          "type": "dislike_reason[]",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "feedback_comment": {
          "name": "feedback_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "has_complaint": {
          "name": "has_complaint",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_staff_feedback_ticket": {
          "name": "idx_staff_feedback_ticket",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_staff_feedback_evaluator": {
          "name": "idx_staff_feedback_evaluator",
          "columns": [
            {
              "expression": "evaluator_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_staff_feedback_evaluated": {
          "name": "idx_staff_feedback_evaluated",
          "columns": [
            {
              "expression": "evaluated_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "staff_feedback_ticket_id_tickets_id_fk": {
          "name": "staff_feedback_ticket_id_tickets_id_fk",
          "tableFrom": "staff_feedback",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_feedback_evaluator_id_users_id_fk": {
          "name": "staff_feedback_evaluator_id_users_id_fk",
          "tableFrom": "staff_feedback",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "evaluator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_feedback_evaluated_id_users_id_fk": {
          "name": "staff_feedback_evaluated_id_users_id_fk",
          "tableFrom": "staff_feedback",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "evaluated_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "staff_feedback_unique": {
          "name": "staff_feedback_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_id",
            "evaluator_id",
            "evaluated_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.tags": {
      "name": "tags",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.technicians_to_tickets": {
      "name": "technicians_to_tickets",
      "schema": "tentix",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "technicians_to_tickets_user_id_users_id_fk": {
          "name": "technicians_to_tickets_user_id_users_id_fk",
          "tableFrom": "technicians_to_tickets",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "technicians_to_tickets_ticket_id_tickets_id_fk": {
          "name": "technicians_to_tickets_ticket_id_tickets_id_fk",
          "tableFrom": "technicians_to_tickets",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "technicians_to_tickets_user_id_ticket_id_pk": {
          "name": "technicians_to_tickets_user_id_ticket_id_pk",
          "columns": [
            "user_id",
            "ticket_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.ticket_feedback": {
      "name": "ticket_feedback",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "satisfaction_rating": {
          "name": "satisfaction_rating",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "dislike_reasons": {
          "name": "dislike_reasons",
          "type": "dislike_reason[]",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "feedback_comment": {
          "name": "feedback_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "has_complaint": {
          "name": "has_complaint",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ticket_feedback_user": {
          "name": "idx_ticket_feedback_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticket_feedback_rating": {
          "name": "idx_ticket_feedback_rating",
          "columns": [
            {
              "expression": "satisfaction_rating",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticket_feedback_created": {
          "name": "idx_ticket_feedback_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_feedback_ticket_id_tickets_id_fk": {
          "name": "ticket_feedback_ticket_id_tickets_id_fk",
          "tableFrom": "ticket_feedback",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ticket_feedback_user_id_users_id_fk": {
          "name": "ticket_feedback_user_id_users_id_fk",
          "tableFrom": "ticket_feedback",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ticket_feedback_unique": {
          "name": "ticket_feedback_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.ticket_history": {
      "name": "ticket_history",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "ticket_history_type",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "varchar(190)",
          "primaryKey": false,
          "notNull": false
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "operator_id": {
          "name": "operator_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ticket_history_ticket_id_tickets_id_fk": {
          "name": "ticket_history_ticket_id_tickets_id_fk",
          "tableFrom": "ticket_history",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ticket_history_operator_id_users_id_fk": {
          "name": "ticket_history_operator_id_users_id_fk",
          "tableFrom": "ticket_history",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "operator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.tickets": {
      "name": "tickets",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "char(13)",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(254)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ticket_status",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true
        },
        "module": {
          "name": "module",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "area": {
          "name": "area",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "sealos_namespace": {
          "name": "sealos_namespace",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "occurrence_time": {
          "name": "occurrence_time",
          "type": "timestamp(6) with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "ticket_category",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true,
          "default": "'uncategorized'"
        },
        "priority": {
          "name": "priority",
          "type": "ticket_priority",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_id": {
          "name": "customer_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_tickets_customer_id": {
          "name": "idx_tickets_customer_id",
          "columns": [
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_agent_id": {
          "name": "idx_tickets_agent_id",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_id_customer": {
          "name": "idx_tickets_id_customer",
          "columns": [
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_status": {
          "name": "idx_tickets_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_updated_at": {
          "name": "idx_tickets_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tickets_customer_id_users_id_fk": {
          "name": "tickets_customer_id_users_id_fk",
          "tableFrom": "tickets",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_agent_id_users_id_fk": {
          "name": "tickets_agent_id_users_id_fk",
          "tableFrom": "tickets",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.tickets_tags": {
      "name": "tickets_tags",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tickets_tags_tag_id_tags_id_fk": {
          "name": "tickets_tags_tag_id_tags_id_fk",
          "tableFrom": "tickets_tags",
          "tableTo": "tags",
          "schemaTo": "tentix",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_tags_ticket_id_tickets_id_fk": {
          "name": "tickets_tags_ticket_id_tickets_id_fk",
          "tableFrom": "tickets_tags",
          "tableTo": "tickets",
          "schemaTo": "tentix",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.user_identities": {
      "name": "user_identities",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "auth_provider",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true
        },
        "provider_user_id": {
          "name": "provider_user_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_user_provider": {
          "name": "idx_user_provider",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_identities_user_id_users_id_fk": {
          "name": "user_identities_user_id_users_id_fk",
          "tableFrom": "user_identities",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uniq_provider_uid": {
          "name": "uniq_provider_uid",
          "nullsNotDistinct": false,
          "columns": [
            "provider",
            "provider_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.user_session": {
      "name": "user_session",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "login_time": {
          "name": "login_time",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip": {
          "name": "ip",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_session": {
          "name": "user_session",
          "tableFrom": "user_session",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.users": {
      "name": "users",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "nickname": {
          "name": "nickname",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "real_name": {
          "name": "real_name",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "phone_num": {
          "name": "phone_num",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true,
          "default": "'customer'"
        },
        "avatar": {
          "name": "avatar",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "register_time": {
          "name": "register_time",
          "type": "timestamp(6) with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "email": {
          "name": "email",
          "type": "varchar(254)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        }
      },
      "indexes": {
        "idx_users_role": {
          "name": "idx_users_role",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.workflow": {
      "name": "workflow",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "nodes": {
          "name": "nodes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "edges": {
          "name": "edges",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflows_updated_at": {
          "name": "idx_workflows_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workflow_unique_name": {
          "name": "workflow_unique_name",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.workflow_test_message": {
      "name": "workflow_test_message",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "test_ticket_id": {
          "name": "test_ticket_id",
          "type": "char(13)",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_test_message_test_ticket_created": {
          "name": "idx_workflow_test_message_test_ticket_created",
          "columns": [
            {
              "expression": "test_ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_test_message_test_ticket_id_workflow_test_ticket_id_fk": {
          "name": "workflow_test_message_test_ticket_id_workflow_test_ticket_id_fk",
          "tableFrom": "workflow_test_message",
          "tableTo": "workflow_test_ticket",
          "schemaTo": "tentix",
          "columnsFrom": [
            "test_ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_test_message_sender_id_users_id_fk": {
          "name": "workflow_test_message_sender_id_users_id_fk",
          "tableFrom": "workflow_test_message",
          "tableTo": "users",
          "schemaTo": "tentix",
          "columnsFrom": [
            "sender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "tentix.workflow_test_ticket": {
      "name": "workflow_test_ticket",
      "schema": "tentix",
      "columns": {
        "id": {
          "name": "id",
          "type": "char(13)",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(254)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "module": {
          "name": "module",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "area": {
          "name": "area",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "occurrence_time": {
          "name": "occurrence_time",
          "type": "timestamp(6) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "category": {
          "name": "category",
          "type": "ticket_category",
          "typeSchema": "tentix",
          "primaryKey": false,
          "notNull": true,
          "default": "'uncategorized'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp(3) with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_test_tickets_updated_at": {
          "name": "idx_workflow_test_tickets_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": false,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "tentix.auth_provider": {
      "name": "auth_provider",
      "schema": "tentix",
      "values": [
        "password",
        "email",
        "phone",
        "feishu",
        "google",
        "sealos",
        "fastgpt",
        "github",
        "weixin",
        "third_party"
      ]
    },
    "tentix.dislike_reason": {
      "name": "dislike_reason",
      "schema": "tentix",
      "values": [
        "irrelevant",
        "unresolved",
        "unfriendly",
        "slow_response",
        "other"
      ]
    },
    "tentix.feedback_type": {
      "name": "feedback_type",
      "schema": "tentix",
      "values": [
        "like",
        "dislike"
      ]
    },
    "tentix.handoff_priority": {
      "name": "handoff_priority",
      "schema": "tentix",
      "values": [
        "P1",
        "P2",
        "P3"
      ]
    },
    "tentix.sentiment_label": {
      "name": "sentiment_label",
      "schema": "tentix",
      "values": [
        "NEUTRAL",
        "FRUSTRATED",
        "ANGRY",
        "REQUEST_AGENT",
        "ABUSIVE",
        "CONFUSED",
        "ANXIOUS",
        "SATISFIED"
      ]
    },
    "tentix.sync_status": {
      "name": "sync_status",
      "schema": "tentix",
      "values": [
        "pending",
        "synced",
        "failed",
        "processing"
      ]
    },
    "tentix.ticket_category": {
      "name": "ticket_category",
      "schema": "tentix",
      "values": [
        "uncategorized",
        "bug",
        "feature",
        "question",
        "other"
      ]
    },
    "tentix.ticket_history_type": {
      "name": "ticket_history_type",
      "schema": "tentix",
      "values": [
        "create",
        "first_reply",
        "join",
        "category",
        "update",
        "upgrade",
        "transfer",
        "makeRequest",
        "resolve",
        "close",
        "other"
      ]
    },
    "tentix.ticket_priority": {
      "name": "ticket_priority",
      "schema": "tentix",
      "values": [
        "urgent",
        "high",
        "medium",
        "normal",
        "low"
      ]
    },
    "tentix.ticket_status": {
      "name": "ticket_status",
      "schema": "tentix",
      "values": [
        "pending",
        "in_progress",
        "resolved",
        "scheduled"
      ]
    },
    "tentix.user_role": {
      "name": "user_role",
      "schema": "tentix",
      "values": [
        "system",
        "customer",
        "agent",
        "technician",
        "admin",
        "ai"
      ]
    }
  },
  "schemas": {
    "tentix": "tentix"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}